<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GenieClient.Views"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
        x:Class="GenieClient.Views.AutoMapperWindow"
        Title="AutoMapper"
        Width="800" Height="600"
        MinWidth="500" MinHeight="400"
        WindowStartupLocation="CenterOwner"
        Background="#1a1a2e"
        CanResize="True">

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- Toolbar -->
        <Border Grid.Row="0" Background="#16213e" Padding="8">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <!-- Left side - Map selector -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="ðŸ—ºï¸ Map:" Foreground="#888" 
                               VerticalAlignment="Center" FontSize="12"/>
                    <ComboBox x:Name="MapSelector" Width="280" 
                              Background="#0d1117" Foreground="#c9d1d9"
                              SelectionChanged="OnMapSelectionChanged">
                        <ComboBox.ItemTemplate>
                            <DataTemplate x:DataType="local:MapInfo">
                                <TextBlock Text="{Binding DisplayName}" />
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <Button Content="ðŸ”„" ToolTip.Tip="Reload Maps" 
                            Background="#1e3a5f" Foreground="White"
                            Padding="8,4" FontSize="14"
                            Click="OnReloadMapsClick"/>
                    <Button Content="ðŸ“ Find Me" ToolTip.Tip="Locate current room on map" 
                            Background="#166534" Foreground="White"
                            Padding="8,4" FontSize="12"
                            Click="OnFindMeClick"/>
                </StackPanel>

                <!-- Center - Zoom controls -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" 
                            HorizontalAlignment="Center" Spacing="4">
                    <Button Content="âˆ’" ToolTip.Tip="Zoom Out"
                            Background="#2a2a3e" Foreground="White"
                            Padding="10,4" FontSize="16" FontWeight="Bold"
                            Click="OnZoomOutClick"/>
                    <TextBlock x:Name="ZoomText" Text="100%" 
                               Foreground="#888" VerticalAlignment="Center"
                               Width="50" TextAlignment="Center"/>
                    <Button Content="+" ToolTip.Tip="Zoom In"
                            Background="#2a2a3e" Foreground="White"
                            Padding="10,4" FontSize="16" FontWeight="Bold"
                            Click="OnZoomInClick"/>
                    <Button Content="âŸ³" ToolTip.Tip="Reset View"
                            Background="#2a2a3e" Foreground="White"
                            Padding="8,4" FontSize="14" Margin="8,0,0,0"
                            Click="OnResetViewClick"/>
                </StackPanel>

                <!-- Right side - Level controls -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="Level:" Foreground="#888" 
                               VerticalAlignment="Center" FontSize="12"/>
                    <Button Content="â–²" ToolTip.Tip="Level Up"
                            Background="#2a2a3e" Foreground="White"
                            Padding="8,4" FontSize="12"
                            Click="OnLevelUpClick"/>
                    <TextBlock x:Name="LevelText" Text="0" 
                               Foreground="#60a5fa" VerticalAlignment="Center"
                               Width="30" TextAlignment="Center" FontWeight="Bold"/>
                    <Button Content="â–¼" ToolTip.Tip="Level Down"
                            Background="#2a2a3e" Foreground="White"
                            Padding="8,4" FontSize="12"
                            Click="OnLevelDownClick"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Map Canvas Area -->
        <Border Grid.Row="1" Margin="8" Background="#0d1117" CornerRadius="8" 
                ClipToBounds="True">
            <ScrollViewer x:Name="MapScrollViewer" 
                          HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto">
                <Canvas x:Name="MapCanvas" 
                        Background="#0d1117"
                        PointerPressed="OnCanvasPointerPressed"
                        PointerMoved="OnCanvasPointerMoved"
                        PointerReleased="OnCanvasPointerReleased"
                        PointerWheelChanged="OnCanvasPointerWheelChanged">
                    <!-- Map content will be drawn programmatically -->
                </Canvas>
            </ScrollViewer>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="#16213e" Padding="8,4">
            <Grid ColumnDefinitions="*,Auto,Auto,Auto">
                <TextBlock x:Name="StatusText" Text="No map loaded" 
                           Foreground="#888" VerticalAlignment="Center" FontSize="12"/>
                <TextBlock Grid.Column="1" x:Name="ZoneIdText" Text="" 
                           Foreground="#60a5fa" VerticalAlignment="Center" 
                           FontSize="11" Margin="16,0"/>
                <TextBlock Grid.Column="2" x:Name="RoomCountText" Text="" 
                           Foreground="#6ee7b7" VerticalAlignment="Center" 
                           FontSize="11" Margin="16,0"/>
                <TextBlock Grid.Column="3" x:Name="HoverNodeText" Text="" 
                           Foreground="#fbbf24" VerticalAlignment="Center" 
                           FontSize="11"/>
            </Grid>
        </Border>
    </Grid>
</Window>

