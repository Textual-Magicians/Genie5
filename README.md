<div id="top"></div>
<!--
*** Genie Client is a Community focused development of Conny's Open Source Version of GenieClient.
*** we want to take a moment and thank Conny for his hard work on GenieClient over the years and 
*** for allowing the community to take a part in the future development of the Client.
*** 
*** Thanks again! Now team go create something AMAZING! :D
-->



<!-- PROJECT SHIELDS -->
<!--
*** This Readme is using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->
[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![GPU License][license-shield]][license-url]




<!-- PROJECT LOGO -->
<br />
<div align="center">


<h1 align="center">Genie 5</h1>

  <p align="center">
    Genie is an alternative front-end for use with the Simutronics Corporation's game DragonRealms.
    <br />
    <strong>Now available in two editions:</strong>
    <br />
    üñ•Ô∏è <strong>Classic</strong> (Windows Forms) - Full-featured, Windows-only
    <br />
    üåê <strong>Cross-Platform</strong> (Avalonia UI) - Works on Windows, macOS, and Linux
  </p>
</div>



<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="#building-from-source">Building from Source</a></li>
    <li><a href="#running-tests">Running Tests</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>


### Built With

* [C#](https://docs.microsoft.com/en-us/dotnet/csharp/)
* [Visual Basic](https://docs.microsoft.com/en-us/dotnet/visual-basic/)


<p align="right">(<a href="#top">back to top</a>)</p>



<!-- GETTING STARTED -->
## Getting Started
1. Download the Latest Release at
	[https://github.com/GenieClient/Genie4/releases/latest] 	

2. Upgrade and First Time Installation Instructions can be found at
 	[https://github.com/GenieClient/Genie4/wiki]

3. Get Maps Updates from the Team at
	[https://github.com/GenieClient/Maps]


<p align="right">(<a href="#top">back to top</a>)</p>


<!-- ROADMAP -->
## Roadmap

### Completed ‚úÖ
- [x] .NET 6 Upgrade
- [x] .NET 10 Upgrade  
- [x] Refactor Core Logic away from GUI
- [x] Cross-Platform UI Foundation (Avalonia)
  - [x] Basic window with game text output
  - [x] Vitals display (Health, Mana, Conc, Stamina, Spirit)
  - [x] Compass and status effects  
  - [x] Connection dialog with saved profiles
  - [x] Game server connection
  - [x] Highlights system
  - [x] Multiple windows (Room, Inventory, Thoughts)

### In Progress üöß
- [ ] Cross-Platform UI - Advanced Features
  - [ ] Script management
  - [ ] Configuration dialogs
  - [ ] Auto-mapper
  - [ ] Command history
  - [ ] Macros and aliases
- [ ] Upgrade Plugin Interface

### Future üìã
- [ ] Get Latest Version (OneButton) <AInstallLogo>
    <img src="https://cdn.advancedinstaller.com/svg/pressinfo/AiLogoColor.svg" width="70" height="40"></AInstallLogo>
- [ ] Native installers for macOS and Linux


See the [open issues](https://github.com/GenieClient/Genie4/issues) for a full list of proposed features (and known issues).

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- CONTRIBUTING -->
## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make is **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- LICENSE -->
## License

Distributed under the GPL 3.0 License. See `LICENSE` for more information.

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- CONTACT -->
## Contact


Project Link: [https://github.com/GenieClient/Genie4](https://github.com/GenieClient/Genie4)

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- ACKNOWLEDGMENTS -->
## Acknowledgments

* [https://github.com/walcon] Conny - Origional Developer)


<p align="right">(<a href="#top">back to top</a>)</p>



<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[contributors-shield]: https://img.shields.io/github/contributors/GenieClient/Genie4.svg?style=for-the-badge
[contributors-url]: https://github.com/GenieClient/Genie4/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/GenieClient/Genie4.svg?style=for-the-badge
[forks-url]: https://github.com/GenieClient/Genie4/network/members
[stars-shield]: https://img.shields.io/github/stars/GenieClient/Genie4.svg?style=for-the-badge
[stars-url]: https://github.com/GenieClient/Genie4/stargazers
[issues-shield]: https://img.shields.io/github/issues/GenieClient/Genie4.svg?style=for-the-badge
[issues-url]: https://github.com/GenieClient/Genie4/issues
[license-shield]: https://img.shields.io/github/license/GenieClient/Genie4.svg?style=for-the-badge
[license-url]: https://github.com/GenieClient/Genie4/blob/master/LICENSE.txt
[product-screenshot]: images/screenshot.png


## Building from Source

### Prerequisites
- [.NET 10 SDK](https://dotnet.microsoft.com/download/dotnet/10.0) (or later)

### Which Edition Should I Use?

| Feature | Classic (Windows Forms) | Cross-Platform (Avalonia) |
|---------|------------------------|---------------------------|
| **Platforms** | Windows only | Windows, macOS, Linux |
| **Maturity** | Full-featured, stable | In development |
| **Auto-Mapper** | ‚úÖ Yes | ‚è≥ Coming soon |
| **Script Manager** | ‚úÖ Yes | ‚è≥ Coming soon |
| **Config Dialogs** | ‚úÖ Yes | ‚è≥ Coming soon |
| **Plugins** | ‚úÖ Yes | ‚è≥ Coming soon |
| **Game Connection** | ‚úÖ Yes | ‚úÖ Yes |
| **Highlights** | ‚úÖ Yes | ‚úÖ Yes |
| **Multiple Windows** | ‚úÖ Yes | ‚úÖ Yes |

**Recommendation:** 
- Use **Classic** if you're on Windows and need all features now
- Use **Cross-Platform** if you're on macOS/Linux, or want to try the new UI

---

### Build Scripts

We provide convenient build scripts for both editions:

| Script | Platform | Builds | Description |
|--------|----------|--------|-------------|
| `build.ps1` | Windows | Classic (WinForms) | Quick build, copies to `bin\Run` |
| `build-and-run.ps1` | Windows | Classic (WinForms) | Build and optionally launch |
| `build-avalonia.ps1` | Windows | Cross-Platform (Avalonia) | Quick build, copies to `bin\Avalonia` |
| `build-crossplatform.ps1` | Windows | Cross-Platform (Avalonia) | Build/publish for any platform |
| `build-crossplatform.sh` | macOS/Linux | Cross-Platform (Avalonia) | Build/publish for any platform |

---

### Cross-Platform UI (Avalonia) üåê

Works on Windows, macOS, and Linux.

#### Quick Build for Windows (Recommended for Development)

```powershell
# Build and copy to bin\Avalonia
.\build-avalonia.ps1

# Build and run immediately
.\build-avalonia.ps1 -Run
```

This is the simplest option for day-to-day Windows development. It copies output to `bin\Avalonia`, so you can keep Genie running while rebuilding.

#### Cross-Platform Publishing

For creating self-contained executables for distribution:

**Windows (PowerShell):**
```powershell
# Simple build for current platform
.\build-crossplatform.ps1

# Create self-contained executable
.\build-crossplatform.ps1 -Publish

# Build for a specific platform
.\build-crossplatform.ps1 -Runtime osx-arm64 -Publish   # macOS Apple Silicon
.\build-crossplatform.ps1 -Runtime linux-x64 -Publish   # Linux 64-bit
.\build-crossplatform.ps1 -Runtime win-x64 -Publish     # Windows 64-bit
```

**macOS/Linux (Bash):**
```bash
# Make executable (first time only)
chmod +x build-crossplatform.sh

# Simple build for current platform
./build-crossplatform.sh

# Create self-contained executable
./build-crossplatform.sh --publish

# Build for a specific platform
./build-crossplatform.sh --runtime osx-arm64 --publish  # macOS Apple Silicon
./build-crossplatform.sh --runtime linux-x64 --publish  # Linux 64-bit
```

**Supported Runtime Identifiers (RIDs):**
| Runtime | Platform |
|---------|----------|
| `win-x64` | Windows 64-bit |
| `win-arm64` | Windows ARM64 |
| `osx-x64` | macOS Intel |
| `osx-arm64` | macOS Apple Silicon |
| `linux-x64` | Linux 64-bit |
| `linux-arm64` | Linux ARM64 |

**Output Locations:**
- Build: `src/Genie.UI/bin/Release/net10.0/`
- Publish: `bin/CrossPlatform/<runtime>/`

#### Direct Commands (Alternative)

Dev Mode, Windows:
```powershell
pushd src\Genie.UI; try { dotnet run } finally { popd }
```

Dev Mode, macOS/Linux:
```bash
( cd src/Genie.UI && dotnet run )
```

Build Release version and run, Windows:
```powershell
dotnet build Genie5.sln --configuration Release; if ($LASTEXITCODE -eq 0) { dotnet run --project src/Genie.UI/Genie.UI.csproj }
```

Build Release version and run, macOS/Linux:
```bash
dotnet build Genie5.sln --configuration Release && dotnet run --project src/Genie.UI/Genie.UI.csproj
```

---

### Classic Windows UI (Windows Forms) üñ•Ô∏è

Full-featured Windows-only edition.

#### Using Build Scripts (Recommended)

**Quick build:**
```powershell
.\build.ps1
```
This builds and copies output to `bin\Run`, allowing you to keep Genie running while rebuilding.

**Build and run interactively:**
```powershell
.\build-and-run.ps1
```
This builds, copies to `bin\Run`, and prompts to launch Genie.

**Build and run immediately:**
```powershell
.\build.ps1; if ($LASTEXITCODE -eq 0) { .\bin\Run\Genie.exe }
```

#### Direct Build (Alternative)

```powershell
dotnet build Genie5.sln --configuration Release; if ($LASTEXITCODE -eq 0) { .\src\Genie.Windows\bin\Release\net10.0-windows\Genie.exe }
```

> **Note:** If Genie is running, direct builds will fail because files are locked. Use the build scripts instead, which output to a separate `bin\Run` folder.

## Running Tests

The project uses xUnit for testing. Tests are located in the `src/Genie.UI.Tests` directory.

### Run All Tests

Windows (PowerShell):
```powershell
dotnet test Genie5.sln
```

macOS/Linux:
```bash
dotnet test Genie5.sln
```

### Run Tests for a Specific Project

```powershell
dotnet test src/Genie.UI.Tests/Genie.UI.Tests.csproj
```

### Run Tests with Detailed Output

```powershell
dotnet test Genie5.sln --verbosity detailed
```

### Run Tests with Code Coverage

```powershell
dotnet test Genie5.sln --collect:"XPlat Code Coverage"
```

Coverage reports will be generated in the `TestResults` folder of each test project.

## Project Architecture

The codebase uses a shared core library with two UI options:

```
Genie5.sln                   # Main solution
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Genie.Core/          # Shared core logic (used by both UIs)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Genie.Core.csproj
‚îÇ   ‚îú‚îÄ‚îÄ Genie.UI/            # Cross-platform Avalonia UI üåê
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Genie.UI.csproj
‚îÇ   ‚îî‚îÄ‚îÄ Genie.Windows/       # Classic Windows Forms UI üñ•Ô∏è
‚îÇ       ‚îî‚îÄ‚îÄ Genie.Windows.csproj
‚îî‚îÄ‚îÄ Plugin/
    ‚îî‚îÄ‚îÄ Plugins.vbproj       # Plugin interfaces (VB.NET)
```

### Genie.Core (Shared)
Platform-independent business logic used by both UIs:
- Connection handling and game communication
- Script engine (Genie scripts, JavaScript, Lua)
- Configuration management
- Highlights, triggers, and macros
- Service interfaces for platform-specific features

### Genie.UI (Cross-Platform Edition) üåê
The new cross-platform UI built with Avalonia:
- **Platforms:** Windows, macOS, Linux
- Modern dark theme interface
- Game connection and text output
- Vitals display, compass, status effects
- Highlights and multiple windows
- *In active development - more features coming!*

### Genie.Windows (Classic Edition) üñ•Ô∏è
The full-featured Windows-only GUI:
- **Platforms:** Windows only
- Complete Windows Forms UI
- Auto-mapper with visual display
- Full script manager
- All configuration dialogs
- Plugin support
- *Mature and stable - use this for all features*
